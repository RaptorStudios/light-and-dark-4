<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>L4W</title>
<meta name='viewport' content='width=device-width, initial-scale=0.7, user-scalable=yes'/>
<link rel='icon' href='style/favicon/game.ico' />

<meta name="google-signin-scope" content="profile email">
<meta name="google-signin-client_id" content="106250700124-f3tm8cc2l6raccir6e5fi9osccuvhaj0.apps.googleusercontent.com">

<script src="https://apis.google.com/js/platform.js" async defer></script>

<script>
	function onSignIn(googleUser) {
      	document.getElementById("login").style.display="none";
        var profile = googleUser.getBasicProfile();
        var url = "edit";
        
        var f = document.createElement("form");
		f.setAttribute("method","post");
		f.setAttribute("action",".");
        var i;
        
        i = document.createElement("input");
		i.setAttribute("type","text");
		i.setAttribute("name","token");
		i.setAttribute("value",googleUser.getAuthResponse().id_token);
		f.appendChild(i);

		f.style.display="none";
		document.body.appendChild(f);
		f.submit();
	};
	
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-18315891-3', 'auto');
ga('send', 'pageview');
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js" async></script>
<script type='text/javascript'>
window.onload = function(){
	requirejs(["https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"],function($){
	    requirejs(["https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js","js/l4w.min"],function(l4w){
	        finishedLoading();
	    },function(err){
	        // If min version is unavailable, use the full version
	        requirejs(["js/l4w"],function(l4w){
	            finishedLoading();
	        });
	    });
	});
	
	function finishedLoading(){
		let canvas = document.getElementById("canvas1");
	    Game.start(canvas);
	};
}
</script>

<link rel="stylesheet" type="text/css" href="style/l4w.css">

</head>
<body>
	<div style="text-align:center">
		<div style="border:1px solid black;float:left;padding:1em;">
			Benvenuto!<br/>
			<div id="login" class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>
		</div>
		<canvas id="canvas1" class="l4wCanvas" width="672" height="512">
		Your browser does not support HTML5 Canvas!</canvas>
		<script type='text/javascript'>	
			let canvas = document.getElementById("canvas1");
			let ctx = canvas.getContext("2d");
			ctx.fillStyle='#000000';
			ctx.font='38px Arial';
		    ctx.fillText("loading scripts...",10,40);
		</script>
	</div>
	<p>
		Mapper: <a href="edit">/edit</a><br/>
		Commands: <a href="https://github.com/giovannipessiva/l4w/wiki/Game">https://github.com/giovannipessiva/l4w/wiki/Game</a>
	</p>
</body>
</html>
